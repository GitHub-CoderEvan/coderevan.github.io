<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png"><link rel="icon" href="/img/fluid.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="author" content="Evan Deng"><meta name="keywords" content=""><meta name="description" content="1.结构体01.结构体基础1.1 什么是结构体 Go语言中没有“类”的概念，也不支持“类”的继承等面向对象的概念。 Go语言中通过结构体的内嵌再配合接口比面向对象具有更高的扩展性和灵活性。  1.2 自定义类型 在 Go 语言中有一些基本的数据类型，如 string、整型、浮点型、布尔等数据类型 Go 语言中可以使用 type 关键字来定义自定义类型。 将 myInt 定义为 int 类型，通过"><meta property="og:type" content="article"><meta property="og:title" content="结构体"><meta property="og:url" content="http://example.com/2021/01/10/6.%E7%BB%93%E6%9E%84%E4%BD%93/index.html"><meta property="og:site_name" content="Evan的博客"><meta property="og:description" content="1.结构体01.结构体基础1.1 什么是结构体 Go语言中没有“类”的概念，也不支持“类”的继承等面向对象的概念。 Go语言中通过结构体的内嵌再配合接口比面向对象具有更高的扩展性和灵活性。  1.2 自定义类型 在 Go 语言中有一些基本的数据类型，如 string、整型、浮点型、布尔等数据类型 Go 语言中可以使用 type 关键字来定义自定义类型。 将 myInt 定义为 int 类型，通过"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://example.com/img/cover6.png"><meta property="article:published_time" content="2021-01-10T13:14:17.000Z"><meta property="article:modified_time" content="2024-01-22T12:58:59.000Z"><meta property="article:author" content="Evan Deng"><meta property="article:tag" content="Go基础"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="http://example.com/img/cover6.png"><title>结构体 - Evan的博客</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var dntVal,CONFIG={hostname:"example.com",root:"/",version:"1.9.4",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,follow_dnt:!0,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml"};CONFIG.web_analytics.follow_dnt&&(dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on")))</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Evan的博客" type="application/atom+xml"></head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>evan&#39;s blog</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> <span>首页</span></a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> <span>归档</span></a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> <span>分类</span></a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> <span>标签</span></a></li><li class="nav-item"><a class="nav-link" href="/links/"><i class="iconfont icon-link-fill"></i> <span>友链</span></a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> <span>关于</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/img/default.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="结构体"></span></div><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2021-01-10 21:14" pubdate>2021年1月10日 晚上</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 6.6k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 55 分钟</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 style="display:none">结构体</h1><div class="markdown-body"><h1 id="1-结构体"><a href="#1-结构体" class="headerlink" title="1.结构体"></a>1.结构体</h1><h2 id="01-结构体基础"><a href="#01-结构体基础" class="headerlink" title="01.结构体基础"></a>01.结构体基础</h2><h3 id="1-1-什么是结构体"><a href="#1-1-什么是结构体" class="headerlink" title="1.1 什么是结构体"></a>1.1 什么是结构体</h3><ul><li>Go语言中没有“类”的概念，也不支持“类”的继承等面向对象的概念。</li><li>Go语言中通过结构体的内嵌再配合接口比面向对象具有更高的扩展性和灵活性。</li></ul><h3 id="1-2-自定义类型"><a href="#1-2-自定义类型" class="headerlink" title="1.2 自定义类型"></a>1.2 自定义类型</h3><ul><li>在 Go 语言中有一些基本的数据类型，如 string、整型、浮点型、布尔等数据类型</li><li>Go 语言中可以使用 type 关键字来定义自定义类型。</li><li>将 myInt 定义为 int 类型，通过 type 关键字的定义，myInt 就是一种新的类型，它具有 int 的特性</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">type</span> myInt <span class="token builtin">int</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h3 id="1-3-类型别名"><a href="#1-3-类型别名" class="headerlink" title="1.3 类型别名"></a>1.3 类型别名</h3><ul><li>Golang1.9 版本以后添加的新功能。</li><li><strong>类型别名规定</strong>：TypeAlias 只是 Type 的别名，本质上 TypeAlias 与 Type 是同一个类型</li><li>就像 一个孩子小时候有大名、小名、英文名，但这些名字都指的是他本人。</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">type</span> TypeAlias <span class="token operator">=</span> Type<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h3 id="1-4-自定义类型和类型别名的区别"><a href="#1-4-自定义类型和类型别名的区别" class="headerlink" title="1.4 自定义类型和类型别名的区别"></a>1.4 自定义类型和类型别名的区别</h3><ul><li>类型别名与自定义类型表面上看只有一个等号的差异</li><li>结果显示 a 的类型是 main.newInt，表 示 main 包下定义的 newInt 类型。</li><li>b 的类型是 int 类型。</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"fmt"</span>
<span class="token keyword">type</span> newInt <span class="token builtin">int</span>      <span class="token comment">//类型定义</span>
<span class="token keyword">type</span> myInt <span class="token operator">=</span> <span class="token builtin">int</span>      <span class="token comment">//类型别名</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> a newInt
	<span class="token keyword">var</span> b myInt
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"type of a:%T\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span>   <span class="token comment">//type of a:main.newInt</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"type of b:%T\n"</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span>   <span class="token comment">//type of b:int</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="02-结构体定义"><a href="#02-结构体定义" class="headerlink" title="02.结构体定义"></a>02.结构体定义</h2><h3 id="2-1-基本实例化（法1）"><a href="#2-1-基本实例化（法1）" class="headerlink" title="2.1 基本实例化（法1）"></a>2.1 基本实例化（法1）</h3><ul><li>只有当结构体实例化时，才会真正地分配内存，也就是必须实例化后才能使用结构体的字段。</li><li>结构体本身也是一种类型，我们可以像声明内置类型一样使用 var 关键字声明结构体类型</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"fmt"</span>
<span class="token keyword">type</span> person <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
	name <span class="token builtin">string</span>
	city <span class="token builtin">string</span>
	age <span class="token builtin">int</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> p1 person
	p1<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"张三"</span>
	p1<span class="token punctuation">.</span>city <span class="token operator">=</span> <span class="token string">"北京"</span>
	p1<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">18</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"p1=%v\n"</span><span class="token punctuation">,</span> p1<span class="token punctuation">)</span>   <span class="token comment">// p1=&#123;张三 北京 18&#125;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"p1=%#v\n"</span><span class="token punctuation">,</span> p1<span class="token punctuation">)</span>   <span class="token comment">// p1=main.person&#123;name:"张三", city:"北京", age:18&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="2-2-new实例化（法2）"><a href="#2-2-new实例化（法2）" class="headerlink" title="2.2 new实例化（法2）"></a>2.2 new实例化（法2）</h3><ul><li>我们还可以通过使用 new 关键字对结构体进行实例化，得到的是结构体的地址</li><li>从打印的结果中我们可以看出 p2 是一个结构体指针。</li><li>注意：在 Golang 中支持对结构体指针直接使用.来访问结构体的成员。</li><li><code>p2.name = &quot;张三&quot;</code> 其实在底层是 <code>(*p2).name = &quot;张三&quot;</code></li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"fmt"</span>
<span class="token keyword">type</span> person <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
	name <span class="token builtin">string</span>
	city <span class="token builtin">string</span>
	age <span class="token builtin">int</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token function">new</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>
	p2<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"张三"</span>
	p2<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">20</span>
	p2<span class="token punctuation">.</span>city <span class="token operator">=</span> <span class="token string">"北京"</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%T\n"</span><span class="token punctuation">,</span> p2<span class="token punctuation">)</span>    <span class="token comment">//*main.person</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"p2=%#v\n"</span><span class="token punctuation">,</span> p2<span class="token punctuation">)</span>  <span class="token comment">//p2=&amp;main.person&#123;name:"张三", city:"北京", age:20&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="xxxxxxxxxx-package-mainimport-“fmt”-“sort”-func-main-x2F-x2F-第一：生成字典，scoreMap-var-scoreMap-x3D-make-map-string-int-200-for-i-x3D-0-i-lt-10-i-key-x3D-fmt-Sprintf-“stu-02d”-i-x2F-x2F-生成-stu-开头的字符串-scoreMap-key-x3D-i-x2F-x2F-第二：取出-map-中的所有-key-存入切片-keys-var-keys-x3D-make-string-0-200-for-key-x3D-range-scoreMap-keys-x3D-append-keys-key-​-x2F-x2F-第三：对切片进行排序-sort-Strings-keys-​-x2F-x2F-第四：按照排序后的-key-遍历-map-for-key-x3D-range-keys-fmt-Println-key-scoreMap-key-x2F-stu00-0stu01-1stu02-2stu03-3stu04-4stu05-5stu06-6stu07-7stu08-8stu09-9-x2F-go"><a href="#xxxxxxxxxx-package-mainimport-“fmt”-“sort”-func-main-x2F-x2F-第一：生成字典，scoreMap-var-scoreMap-x3D-make-map-string-int-200-for-i-x3D-0-i-lt-10-i-key-x3D-fmt-Sprintf-“stu-02d”-i-x2F-x2F-生成-stu-开头的字符串-scoreMap-key-x3D-i-x2F-x2F-第二：取出-map-中的所有-key-存入切片-keys-var-keys-x3D-make-string-0-200-for-key-x3D-range-scoreMap-keys-x3D-append-keys-key-​-x2F-x2F-第三：对切片进行排序-sort-Strings-keys-​-x2F-x2F-第四：按照排序后的-key-遍历-map-for-key-x3D-range-keys-fmt-Println-key-scoreMap-key-x2F-stu00-0stu01-1stu02-2stu03-3stu04-4stu05-5stu06-6stu07-7stu08-8stu09-9-x2F-go" class="headerlink" title="xxxxxxxxxx package mainimport (    “fmt”    “sort”)func main() {    &#x2F;&#x2F; 第一：生成字典，scoreMap    var scoreMap &#x3D; make(map[string]int, 200)    for i :&#x3D; 0; i &lt; 10; i++ {        key :&#x3D; fmt.Sprintf(“stu%02d”, i) &#x2F;&#x2F;生成 stu 开头的字符串        scoreMap[key] &#x3D; i    }        &#x2F;&#x2F; 第二：取出 map 中的所有 key 存入切片 keys    var keys &#x3D; make([]string, 0, 200)    for key :&#x3D; range scoreMap {        keys &#x3D; append(keys, key)    }​    &#x2F;&#x2F; 第三：对切片进行排序    sort.Strings(keys)​    &#x2F;&#x2F; 第四：按照排序后的 key 遍历 map    for _, key :&#x3D; range keys {        fmt.Println(key, scoreMap[key])    }}&#x2F;*stu00 0stu01 1stu02 2stu03 3stu04 4stu05 5stu06 6stu07 7stu08 8stu09 9 *&#x2F;go"></a>xxxxxxxxxx package mainimport ( “fmt” “sort”)func main() { &#x2F;&#x2F; 第一：生成字典，scoreMap var scoreMap &#x3D; make(map[string]int, 200) for i :&#x3D; 0; i &lt; 10; i++ { key :&#x3D; fmt.Sprintf(“stu%02d”, i) &#x2F;&#x2F;生成 stu 开头的字符串 scoreMap[key] &#x3D; i } &#x2F;&#x2F; 第二：取出 map 中的所有 key 存入切片 keys var keys &#x3D; make([]string, 0, 200) for key :&#x3D; range scoreMap { keys &#x3D; append(keys, key) }​ &#x2F;&#x2F; 第三：对切片进行排序 sort.Strings(keys)​ &#x2F;&#x2F; 第四：按照排序后的 key 遍历 map for _, key :&#x3D; range keys { fmt.Println(key, scoreMap[key]) }}&#x2F;*stu00 0stu01 1stu02 2stu03 3stu04 4stu05 5stu06 6stu07 7stu08 8stu09 9 *&#x2F;go</h3><ul><li>使用&amp;对结构体进行取地址操作相当于对该结构体类型进行了一次 new 实例化操作</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"fmt"</span>
<span class="token keyword">type</span> person <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
	name <span class="token builtin">string</span>
	city <span class="token builtin">string</span>
	age <span class="token builtin">int</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	p3 <span class="token operator">:=</span> <span class="token operator">&amp;</span>person<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%T\n"</span><span class="token punctuation">,</span> p3<span class="token punctuation">)</span>    <span class="token comment">//*main.person</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"p3=%#v\n"</span><span class="token punctuation">,</span> p3<span class="token punctuation">)</span>  <span class="token comment">//p3=&amp;main.person&#123;name:"", city:"", age:0&#125;</span>
	p3<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"zhangsan"</span>
	p3<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">30</span>
	p3<span class="token punctuation">.</span>city <span class="token operator">=</span> <span class="token string">"深圳"</span>
	<span class="token punctuation">(</span><span class="token operator">*</span>p3<span class="token punctuation">)</span><span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">40</span>   <span class="token comment">//这样也是可以的</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"p3=%#v\n"</span><span class="token punctuation">,</span> p3<span class="token punctuation">)</span> <span class="token comment">//p3=&amp;main.person&#123;name:"zhangsan", city:"深圳", age:30&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="2-4-键值对初始化（法4）"><a href="#2-4-键值对初始化（法4）" class="headerlink" title="2.4 键值对初始化（法4）"></a>2.4 键值对初始化（法4）</h3><ul><li>注意：最后一个属性的,要加上</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"fmt"</span>
<span class="token keyword">type</span> person <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
	name <span class="token builtin">string</span>
	city <span class="token builtin">string</span>
	age <span class="token builtin">int</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	p4 <span class="token operator">:=</span> person<span class="token punctuation">&#123;</span>
		name<span class="token punctuation">:</span> <span class="token string">"zhangsan"</span><span class="token punctuation">,</span>
		city<span class="token punctuation">:</span> <span class="token string">"北京"</span><span class="token punctuation">,</span>
		age<span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span>
	<span class="token comment">// p4=main.person&#123;name:"zhangsan", city:"北京", age:18&#125;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"p4=%#v\n"</span><span class="token punctuation">,</span> p4<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="2-5-值列表初始化（法5）"><a href="#2-5-值列表初始化（法5）" class="headerlink" title="2.5 值列表初始化（法5）"></a>2.5 值列表初始化（法5）</h3><ul><li>初始化结构体的时候可以简写，也就是初始化的时候不写键，直接写值</li><li>必须初始化结构体的所有字段。</li><li>初始值的填充顺序必须与字段在结构体中的声明顺序一致。</li><li>该方式不能和键值初始化方式混用</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"fmt"</span>
<span class="token keyword">type</span> person <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
	name <span class="token builtin">string</span>
	city <span class="token builtin">string</span>
	age <span class="token builtin">int</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token comment">// 初始化结构体的时候可以简写，也就是初始化的时候不写键，直接写值</span>
	p7 <span class="token operator">:=</span> <span class="token operator">&amp;</span>person<span class="token punctuation">&#123;</span>
		<span class="token string">"zhangsan"</span><span class="token punctuation">,</span>
		<span class="token string">"北京"</span><span class="token punctuation">,</span>
		<span class="token number">28</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span>
	<span class="token comment">// p7=&amp;main.person&#123;name:"zhangsan", city:"北京", age:28&#125;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"p7=%#v\n"</span><span class="token punctuation">,</span> p7<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="2-6-结构体的匿名字段"><a href="#2-6-结构体的匿名字段" class="headerlink" title="2.6 结构体的匿名字段"></a>2.6 结构体的匿名字段</h3><ul><li>结构体允许其成员字段在声明时没有字段名而只有类型，这种没有名字的字段就称为匿名字段。</li><li>匿名字段默认采用类型名作为字段名，结构体要求字段名称必须唯一，因此一个结构体中同种类型的匿名字段只能有一个。</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">type</span> Person <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//Person 结构体 Person 类型</span>
	<span class="token builtin">string</span>
	<span class="token builtin">int</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	p1 <span class="token operator">:=</span> Person<span class="token punctuation">&#123;</span>
		<span class="token string">"小王子"</span><span class="token punctuation">,</span>
		<span class="token number">18</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%#v\n"</span><span class="token punctuation">,</span> p1<span class="token punctuation">)</span>   <span class="token comment">//main.Person&#123;string:"北京", int:18&#125;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span><span class="token builtin">string</span><span class="token punctuation">,</span> p1<span class="token punctuation">.</span><span class="token builtin">int</span><span class="token punctuation">)</span>    <span class="token comment">//北京 18</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="03-嵌套结构体"><a href="#03-嵌套结构体" class="headerlink" title="03.嵌套结构体"></a>03.嵌套结构体</h2><h3 id="3-1-普通嵌套结构体"><a href="#3-1-普通嵌套结构体" class="headerlink" title="3.1 普通嵌套结构体"></a>3.1 普通嵌套结构体</h3><ul><li>一个结构体中可以嵌套包含另一个结构体或结构体指针。</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"fmt"</span>
<span class="token keyword">type</span> Address <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>   <span class="token comment">//Address 地址结构体</span>
	Province <span class="token builtin">string</span>
	City <span class="token builtin">string</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">type</span> User <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>   <span class="token comment">//User 用户结构体</span>
	Name <span class="token builtin">string</span>
	Gender <span class="token builtin">string</span>
	Address Address
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	user1 <span class="token operator">:=</span> User<span class="token punctuation">&#123;</span>
		Name<span class="token punctuation">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span>
		Gender<span class="token punctuation">:</span> <span class="token string">"男"</span><span class="token punctuation">,</span>
		Address<span class="token punctuation">:</span> Address<span class="token punctuation">&#123;</span>
			Province<span class="token punctuation">:</span> <span class="token string">"广东"</span><span class="token punctuation">,</span>
			City<span class="token punctuation">:</span> <span class="token string">"深圳"</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"user1=%#v\n"</span><span class="token punctuation">,</span> user1<span class="token punctuation">)</span> 
	<span class="token comment">//user1=main.User&#123;Name:" 张 三 ", Gender:" 男 ", Address:main.Address&#123;Province:"广东", City:"深圳"&#125;&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="3-2-嵌套匿名结构体"><a href="#3-2-嵌套匿名结构体" class="headerlink" title="3.2 嵌套匿名结构体"></a>3.2 嵌套匿名结构体</h3><ul><li>注意：当访问结构体成员时会先在结构体中查找该字段，找不到再去匿名结构体中查找。</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"fmt"</span>
<span class="token keyword">type</span> Address <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//Address 地址结构体</span>
	Province <span class="token builtin">string</span>
	City <span class="token builtin">string</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">type</span> User <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>   <span class="token comment">//User 用户结构体</span>
	Name <span class="token builtin">string</span>
	Gender <span class="token builtin">string</span>
	Address
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> user2 User
	user2<span class="token punctuation">.</span>Name <span class="token operator">=</span> <span class="token string">"张三"</span>
	user2<span class="token punctuation">.</span>Gender <span class="token operator">=</span> <span class="token string">"男"</span>
	user2<span class="token punctuation">.</span>Address<span class="token punctuation">.</span>Province <span class="token operator">=</span> <span class="token string">"广东"</span>   <span class="token comment">//通过匿名结构体.字段名访问</span>
	user2<span class="token punctuation">.</span>City <span class="token operator">=</span> <span class="token string">"深圳"</span>   <span class="token comment">//直接访问匿名结构体的字段名</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"user2=%#v\n"</span><span class="token punctuation">,</span> user2<span class="token punctuation">)</span>
	<span class="token comment">//user2=main.User&#123;Name:"张三", Gender:"男", Address:main.Address&#123;Province:"广东", City:"深圳"&#125;&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="04-结构体方法和接收者"><a href="#04-结构体方法和接收者" class="headerlink" title="04.结构体方法和接收者"></a>04.结构体方法和接收者</h2><h3 id="4-1-结构体说明"><a href="#4-1-结构体说明" class="headerlink" title="4.1 结构体说明"></a>4.1 结构体说明</h3><ul><li>在 go 语言中，没有类的概念但是可以给类型（结构体，自定义类型）定义方法。</li><li>所谓方法就是定义了接收者的函数。<ul><li>Go语言中的方法（Method）是一种作用于特定类型变量的函数。</li><li>这种特定类型变量叫做接收者（Receiver）。</li><li>接收者的概念就类似于其他语言中的this或者 self。</li></ul></li><li>方法的定义格式如下：</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token punctuation">(</span>接收者变量 接收者类型<span class="token punctuation">)</span> 方法名<span class="token punctuation">(</span>参数列表<span class="token punctuation">)</span> <span class="token punctuation">(</span>返回参数<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	函数体
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><ul><li>给结构体 Person 定义一个方法打印 Person 的信息</li></ul><h3 id="4-2-结构体方法和接收者"><a href="#4-2-结构体方法和接收者" class="headerlink" title="4.2 结构体方法和接收者"></a>4.2 结构体方法和接收者</h3><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"fmt"</span>
<span class="token keyword">type</span> Person <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
	name <span class="token builtin">string</span>
	age <span class="token builtin">int8</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>p Person<span class="token punctuation">)</span> <span class="token function">printInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"姓名:%v 年龄:%v"</span><span class="token punctuation">,</span> p<span class="token punctuation">.</span>name<span class="token punctuation">,</span> p<span class="token punctuation">.</span>age<span class="token punctuation">)</span>  <span class="token comment">// 姓名:小王子 年龄:25</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	p1 <span class="token operator">:=</span> Person<span class="token punctuation">&#123;</span>
		name<span class="token punctuation">:</span> <span class="token string">"小王子"</span><span class="token punctuation">,</span>
		age<span class="token punctuation">:</span>  <span class="token number">25</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span>
	p1<span class="token punctuation">.</span><span class="token function">printInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 姓名:小王子 年龄:25</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="4-3-值类型和指针类型接收者"><a href="#4-3-值类型和指针类型接收者" class="headerlink" title="4.3 值类型和指针类型接收者"></a>4.3 值类型和指针类型接收者</h3><ul><li>实例1：给结构体 Person 定义一个方法打印 Person 的信息</li><li>1、值类型的接收者<ul><li>当方法作用于值类型接收者时，Go 语言会在代码运行时将接收者的值复制一份。</li><li>在值类型接收者的方法中可以获取接收者的成员值，但修改操作只是针对副本，无法修改接收者变量本身。</li></ul></li><li>2、指针类型的接收者<ul><li>指针类型的接收者由一个结构体的指针组成</li><li>由于指针的特性，调用方法时修改接收者指针的任意成员变量，在方法结束后，修改都是有效的。</li><li>这种方式就十分接近于其他语言中面向对象中的 this 或者 self。</li></ul></li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"fmt"</span>
<span class="token keyword">type</span> Person <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
	name <span class="token builtin">string</span>
	age <span class="token builtin">int</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">//值类型接受者</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>p Person<span class="token punctuation">)</span> <span class="token function">printInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"姓名:%v 年龄:%v\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">.</span>name<span class="token punctuation">,</span> p<span class="token punctuation">.</span>age<span class="token punctuation">)</span>  <span class="token comment">// 姓名:小王子 年龄:25</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">//指针类型接收者</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>p <span class="token operator">*</span>Person<span class="token punctuation">)</span> <span class="token function">setInfo</span><span class="token punctuation">(</span>name <span class="token builtin">string</span><span class="token punctuation">,</span> age <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	p<span class="token punctuation">.</span>name <span class="token operator">=</span> name
	p<span class="token punctuation">.</span>age <span class="token operator">=</span> age
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	p1 <span class="token operator">:=</span> Person<span class="token punctuation">&#123;</span>
		name<span class="token punctuation">:</span> <span class="token string">"小王子"</span><span class="token punctuation">,</span>
		age<span class="token punctuation">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span>
	p1<span class="token punctuation">.</span><span class="token function">printInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">// 姓名:小王子 年龄:25</span>
	p1<span class="token punctuation">.</span><span class="token function">setInfo</span><span class="token punctuation">(</span><span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
	p1<span class="token punctuation">.</span><span class="token function">printInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">// 姓名:张三 年龄:20</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="05-结构体继承"><a href="#05-结构体继承" class="headerlink" title="05.结构体继承"></a>05.结构体继承</h2><ul><li>Go 语言中使用结构体也可以实现其他编程语言中的继承</li></ul><h3 id="5-1-普通传值"><a href="#5-1-普通传值" class="headerlink" title="5.1 普通传值"></a>5.1 普通传值</h3><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"fmt"</span>
<span class="token keyword">type</span> Animal <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>   <span class="token comment">//Animal 动物</span>
	name <span class="token builtin">string</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>a <span class="token operator">*</span>Animal<span class="token punctuation">)</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%s 会运动！\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">type</span> Dog <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>   <span class="token comment">//Dog狗</span>
	Age <span class="token builtin">int8</span>
	Animal    <span class="token comment">// 通过嵌套匿名结构体实现继承</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>d Dog<span class="token punctuation">)</span> <span class="token function">wang</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%s 会汪汪汪~\n"</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	d1 <span class="token operator">:=</span> Dog<span class="token punctuation">&#123;</span>
		Age<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
		Animal<span class="token punctuation">:</span> Animal<span class="token punctuation">&#123;</span>    <span class="token comment">//注意嵌套的是结构体指针</span>
			name<span class="token punctuation">:</span> <span class="token string">"阿奇"</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span>
	d1<span class="token punctuation">.</span><span class="token function">wang</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">//乐乐会汪汪汪~</span>
	d1<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">//乐乐会动！</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="5-2-指针传值"><a href="#5-2-指针传值" class="headerlink" title="5.2 指针传值"></a>5.2 指针传值</h3><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"fmt"</span>
<span class="token keyword">type</span> Animal <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>   <span class="token comment">//Animal 动物</span>
	name <span class="token builtin">string</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>a <span class="token operator">*</span>Animal<span class="token punctuation">)</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%s 会运动！\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">type</span> Dog <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>   <span class="token comment">//Dog狗</span>
	Age <span class="token builtin">int8</span>
	<span class="token operator">*</span>Animal  <span class="token comment">//通过嵌套匿名结构体实现继承</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>d <span class="token operator">*</span>Dog<span class="token punctuation">)</span> <span class="token function">wang</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%s 会汪汪汪~\n"</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	d1 <span class="token operator">:=</span> <span class="token operator">&amp;</span>Dog<span class="token punctuation">&#123;</span>
		Age<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
		Animal<span class="token punctuation">:</span> <span class="token operator">&amp;</span>Animal<span class="token punctuation">&#123;</span>    <span class="token comment">//注意嵌套的是结构体指针</span>
			name<span class="token punctuation">:</span> <span class="token string">"阿奇"</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span>
	d1<span class="token punctuation">.</span><span class="token function">wang</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">//乐乐会汪汪汪~</span>
	d1<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">//乐乐会动！</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="06-给任意类型添加方法"><a href="#06-给任意类型添加方法" class="headerlink" title="06.给任意类型添加方法"></a>06.给任意类型添加方法</h2><ul><li>在 Go 语言中，接收者的类型可以是任何类型，不仅仅是结构体，任何类型都可以拥有方法。</li><li>举个例子，我们基于内置的 int 类型使用 type 关键字可以定义新的自定义类型，然后为我们的自定义类型添加方法。</li><li>注意事项： 非本地类型不能定义方法，也就是说我们不能给别的包的类型定义方法。</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">type</span> myInt <span class="token builtin">int</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>m myInt<span class="token punctuation">)</span> <span class="token function">SayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Hello, 我是一个 int。"</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> m1 myInt
	m1<span class="token punctuation">.</span><span class="token function">SayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">//Hello, 我是一个 int。</span>
	m1 <span class="token operator">=</span> <span class="token number">100</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%#v %T\n"</span><span class="token punctuation">,</span> m1<span class="token punctuation">,</span> m1<span class="token punctuation">)</span>   <span class="token comment">//100 main.MyInt</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/Go%E5%9F%BA%E7%A1%80/" class="category-chain-item">Go基础</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/Go%E5%9F%BA%E7%A1%80/">#Go基础</a></div></div><div class="license-box my-3"><div class="license-title"><div>结构体</div><div>http://example.com/2021/01/10/6.结构体/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>Evan Deng</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2021年1月10日</div></div><div class="license-meta-item"><div>许可协议</div><div><a target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/2021/01/11/7.interface%E6%8E%A5%E5%8F%A3/" title="interface接口"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">interface接口</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/2021/01/09/5.%E6%8C%87%E9%92%88/" title="指针"><span class="hidden-mobile">指针</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>目录</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",function(){NProgress.done()})</script><script src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t){var e=Fluid.plugins.typing,i=t.getElementById("subtitle");i&&e&&e(i.getAttribute("data-typed-text"))}((window,document))</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js",function(){var t,o=jQuery("#toc");0!==o.length&&window.tocbot&&(t=jQuery("#board-ctn").offset().top,window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-t},CONFIG.toc)),0<o.find(".toc-list-item").length&&o.css("visibility","visible"),Fluid.events.registerRefreshCallback(function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;0<t.find(".toc-list-item").length&&t.css("visibility","visible")}}))})</script><script src="https://lib.baomitu.com/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",function(){Fluid.plugins.fancyBox()})</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript></body></html>